import{_ as L}from"./WwFkENxg.js";import{_ as h}from"./BeFclaUx.js";import{_ as M}from"./BGCo7yP8.js";import{_ as U}from"./DnIpOOP4.js";import{_ as z}from"./Dp47PizI.js";import{_ as D,a as E}from"./CpcvXIFj.js";import{_ as I}from"./C4a3JGsQ.js";import{_ as N}from"./CKaSsRbv.js";import{e as T,x as j,y as q,r as i,i as F,o as P,w as a,a as l,b as o,u as t,d as m,z as H,l as G,t as J,A as K}from"./Bt1u4B0-.js";import{u as O}from"./B4oWGeeH.js";import{u as Q}from"./WC2X13Kw.js";import"./xBkyOM2N.js";const W={class:"block mx-auto"},X={class:"flex justify-between"},Y={class:"flex justify-center items-center my-2"},de=T({__name:"login",setup(Z){O({title:"Login"});const{env:g}=j().public,b=q(),{alertMsg:u,showAlert:w,clearAlerts:v}=Q(),d=i(!1),s=i({email:localStorage.getItem("rememberedEmail")||"",password:""}),p=i(!0),x=r=>{p.value=!r},y=async()=>{if(!(s.value.email==""||s.value.password=="")){d.value=!0;try{await b.login(s.value),v(),d.value=!1}catch(r){w(r.message,"danger")}}},V=()=>{K("/reset-password")},c=i(!!localStorage.getItem("rememberedEmail"));return(r,e)=>{const B=L,_=h,f=M,S=U,k=z,R=E,C=I,$=N,A=D;return P(),F(A,{class:"bg-gray-100"},{default:a(()=>[l("div",W,[o(B),o($,{class:"w-[500px] p-8",shadow:""},{default:a(()=>[o(_,{visible:t(g)!=="production",color:"warning"},{default:a(()=>e[4]||(e[4]=[m(" This site is during the release candidate phase and not yet in production. ")])),_:1},8,["visible"]),e[7]||(e[7]=l("div",{class:"mb-6 text-center"},[l("h3",null,"Sign in to account")],-1)),l("form",{class:"flex flex-col gap-2 w-full",onSubmit:e[3]||(e[3]=H(()=>{},["prevent"]))},[o(f,{modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=n=>t(s).email=n),label:"Email",autocomplete:"email",placeholder:"nome@example.com",required:""},null,8,["modelValue"]),o(f,{modelValue:t(s).password,"onUpdate:modelValue":e[1]||(e[1]=n=>t(s).password=n),type:"password",label:"Password",autocomplete:"current-password",placeholder:"password",required:""},null,8,["modelValue"]),l("div",X,[o(S,{id:"rememberMe",modelValue:t(c),"onUpdate:modelValue":e[2]||(e[2]=n=>G(c)?c.value=n:null),label:"Remember password"},null,8,["modelValue"]),o(k,{color:"link",size:"sm",class:"underline",type:"button",onClick:V},{default:a(()=>e[5]||(e[5]=[m(" Forgot password? ")])),_:1})]),l("div",Y,[o(R,{onRecaptchaStatus:x})]),o(C,{disabled:t(p),color:"primary",size:"sm",class:"w-full","loading-click":y},{default:a(()=>e[6]||(e[6]=[m(" Login ")])),_:1},8,["disabled"])],32),o(_,{visible:t(u).visible,color:t(u).color,class:"text-center"},{default:a(()=>[m(J(t(u).message),1)]),_:1},8,["visible","color"])]),_:1})])]),_:1})}}});export{de as default};
